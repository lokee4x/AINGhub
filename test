-- Load Rayfield UI Library
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()
local Window = Rayfield:CreateWindow({
    Name = "Glass Model Highlighter",
    LoadingTitle = "Loading UI...",
    LoadingSubtitle = "by lokee4x",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = "GlassUI",
        FileName = "Config"
    },
    Discord = {
        Enabled = false,
    },
    KeySystem = false
})

-- Create a Section for Model Highlighting
local Tab = Window:CreateTab("Model Highlighter", 4483362458) -- Glass Icon
local Section = Tab:CreateSection("Highlight Options")

-- Model Selection Dropdown
local selectedModel = nil
local modelDropdown = Tab:CreateDropdown({
    Name = "Select a Model",
    Options = {"Correct", "Wrong"},
    Callback = function(selected)
        selectedModel = workspace.Glasses:FindFirstChild(selected)
        if selectedModel then
            Rayfield:Notify({
                Title = "Model Selected",
                Content = "You selected: " .. selected,
                Duration = 2
            })
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Model '" .. selected .. "' not found.",
                Duration = 2
            })
        end
    end
})

-- Function to Change Model Color
local function changeModelColor(model, colorName)
    if model then
        for _, part in pairs(model:GetDescendants()) do
            if part:IsA("BasePart") then
                part.BrickColor = BrickColor.new(colorName)
            end
        end
        Rayfield:Notify({
            Title = "Success",
            Content = "Highlighted " .. model.Name .. " with color " .. colorName,
            Duration = 2
        })
    else
        Rayfield:Notify({
            Title = "Error",
            Content = "No model selected or model not found.",
            Duration = 2
        })
    end
end

-- Button to Apply Highlight
Tab:CreateButton({
    Name = "Apply Highlight",
    Callback = function()
        if selectedModel then
            local color = selectedModel.Name == "Correct" and "Dark stone grey" or "Terra Cotta"
            changeModelColor(selectedModel, color)
        else
            Rayfield:Notify({
                Title = "Error",
                Content = "Please select a model first.",
                Duration = 2
            })
        end
    end
})
